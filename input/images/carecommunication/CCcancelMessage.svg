<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="1984px" preserveAspectRatio="none" style="width:783px;height:1984px;background:#FFFFFF;" version="1.1" viewBox="0 0 783 1984" width="783px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="287" x="241" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="277" x="246" y="24.5332">Simplified example: Cancelled message</text><!--MD5=[77d9f3ba0333437ce7407f559fb23290]
cluster error--><g id="cluster_error"><rect fill="none" height="1933" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="770" x="7" y="45.6094"/><path d="M370,45.6094 L370,56.2188 L360,66.2188 L7,66.2188 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="353" x="10" y="61.1426">CareCommunication message: Cancelled message</text></g><!--MD5=[eeb0debb5fca22f0d75064ed3b775ab3]
class errorB--><g id="elem_errorB"><rect codeLine="19" fill="#FFFFFF" height="88.4375" id="errorB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="242.5" y="101.1426">Bundle (MedComCareCommunicationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="109.2188" y2="109.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29.5" y="127.752">id = "ed3e05b2-551d-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="29.5" y="145.3613">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="273" x="29.5" y="162.9707">timestamp = "2023-03-01T12:11:00+01:00"</text></g><!--MD5=[beb118c84b97787df19f260a30b51ecd]
class errorMH--><g id="elem_errorMH"><rect codeLine="24" fill="#FFFFFF" height="229.3125" id="errorMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="179.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="404" x="190" y="199.1426">MessageHeader (MedComCareCommunicationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="207.2188" y2="207.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="29.5" y="225.752">id = "b0d424f8-33a9-4cc2-a528-a6cc1c58727b"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="29.5" y="243.3613">event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="29.5" y="260.9707">event.code = "care-communication-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="702" x="29.5" y="278.5801">destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="29.5" y="296.1895">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="29.5" y="313.7988">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="550" x="29.5" y="331.4082">destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="485" x="29.5" y="349.0176">sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="29.5" y="366.627">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="511" x="29.5" y="384.2363">focus[0].reference = "Communication/94e65db8-2f0c-4a2c-a7c9-06a160d59a12"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="508" x="29.5" y="401.8457">focus[1].reference = "Communication/1636f3f8-551e-11ed-bdc3-0242ac120002"</text></g><!--MD5=[e245cb8a2d08a530ae37cebee9106e69]
class errorPT--><g id="elem_errorPT"><rect codeLine="37" fill="#FFFFFF" height="158.875" id="errorPT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="418.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="297.5" y="438.1426">Patient (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="446.2188" y2="446.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="29.5" y="464.752">id = "733cef33-3626-422b-955d-d506aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="29.5" y="482.3613">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="29.5" y="499.9707">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="29.5" y="517.5801">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="29.5" y="535.1895">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="29.5" y="552.7988">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29.5" y="570.4082">name.given[1] = "Test"</text></g><!--MD5=[83ba68dc4a509baff37de99c2e8df941]
class newCom--><g id="elem_newCom"><rect codeLine="46" fill="#FFFFFF" height="254.9219" id="newCom" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="587.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="244.5" y="607.1426">Communication (MedComCareCommunication)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="615.2188" y2="615.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="29.5" y="633.752">id = "94e65db8-2f0c-4a2c-a7c9-06a160d59a12"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="298" x="29.5" y="651.3613">status.system = "http://hl7.org/fhir/event-status"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="155" x="29.5" y="668.9707">status.code = "unknown"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="721" x="29.5" y="686.5801">category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="29.5" y="704.1895">category.code= "carecoordination"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="451" x="29.5" y="721.7988">subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="518" x="29.5" y="739.4082">payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371" x="29.5" y="757.0176">payload[0].extension:date = "2023-03-01T12:00:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="641" x="29.5" y="774.627">payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="29.5" y="792.2363">payload[0].extension:authorContact.value = "38683868"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="668" x="29.5" y="809.8457">payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:24d01288-ad36-4af2-96a8-fd1432dadee1"</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="816.9219" y2="816.9219"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="696" x="29.5" y="835.4551">payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)</text></g><!--MD5=[6e7852a2d3baf723d789b7e2450339e4]
class errorCom--><g id="elem_errorCom"><rect codeLine="60" fill="#FFFFFF" height="237.3125" id="errorCom" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="852.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="244.5" y="872.1426">Communication (MedComCareCommunication)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="880.2188" y2="880.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="29.5" y="898.752">id = "1636f3f8-551e-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="165" x="29.5" y="916.3613">status = "entered-in-error"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="721" x="29.5" y="933.9707">category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="218" x="29.5" y="951.5801">category.code= "carecoordination"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="451" x="29.5" y="969.1895">subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="447" x="29.5" y="986.7988">payload[0].contentString = "Cancellation due to incorrect CPR-number"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="371" x="29.5" y="1004.4082">payload[0].extension:date = "2023-03-01T12:11:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="641" x="29.5" y="1022.0176">payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="29.5" y="1039.627">payload[0].extension:authorContact.value = "38683868"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="670" x="29.5" y="1057.2363">payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:9c6aa7db-71ae-4263-a1df-8876ac44359e"</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1064.3125" y2="1064.3125"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="696" x="29.5" y="1082.8457">payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)</text></g><!--MD5=[f0b666f0d1966da70c19f1358d1aa04f]
class errorPracR--><g id="elem_errorPracR"><rect codeLine="73" fill="#FFFFFF" height="106.0469" id="errorPracR" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1099.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="240.5" y="1119.1426">PractitionerRole (MedComCorePractitionerRole)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1127.2188" y2="1127.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="29.5" y="1145.752">id = "eda90bde-54f9-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="511" x="29.5" y="1163.3613">practitioner.reference = "Practitioner/58c811a5-4082-44eb-9d66-ccbb112d4973"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="725" x="29.5" y="1180.9707">code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="29.5" y="1198.5801">code.value = "sygeplejerske"</text></g><!--MD5=[58b1a11330239675c8d1541687936ec5]
class errorPrac--><g id="elem_errorPrac"><rect codeLine="79" fill="#FFFFFF" height="88.4375" id="errorPrac" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1215.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="269.5" y="1235.1426">Practitioner (MedComCorePractitioner)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1243.2188" y2="1243.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="29.5" y="1261.752">id = "58c811a5-4082-44eb-9d66-ccbb112d4973"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="29.5" y="1279.3613">name.family = "Michael"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="29.5" y="1296.9707">name.given = "Burns"</text></g><!--MD5=[6c9a41914b460d3a5f1dd0d448b31429]
class errorROrg--><g id="elem_errorROrg"><rect codeLine="84" fill="#FFFFFF" height="123.6563" id="errorROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1313.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="255" y="1333.1426">Receiver (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1341.2188" y2="1341.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="288" x="29.5" y="1359.752">id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="1377.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="1394.9707">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="1412.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="1430.1895">identifier[1].value = "953741000016009"</text></g><!--MD5=[4afeb56674f7fa49ccf35764061b8d1d]
class errorSOrg--><g id="elem_errorSOrg"><rect codeLine="91" fill="#FFFFFF" height="123.6563" id="errorSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1447.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="260" y="1467.1426">Sender (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1475.2188" y2="1475.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="29.5" y="1493.752">id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="1511.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="1528.9707">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="1546.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="1564.1895">identifier[1].value = "265161000016000"</text></g><!--MD5=[17da20a5a516157a8c1fce446ca93f65]
class errorPRO--><g id="elem_errorPRO"><rect codeLine="98" fill="#FFFFFF" height="211.7031" id="errorPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1581.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="247" y="1601.1426">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1609.2188" y2="1609.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="29.5" y="1627.752">id = "16fac3d8-551d-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="437" x="29.5" y="1645.3613">target = "MessageHeader/b0d424f8-33a9-4cc2-a528-a6cc1c58727b"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29.5" y="1662.9707">occuredDateTime = "2023-03-01T12:11:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29.5" y="1680.5801">recorded = "2023-03-01T12:11:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29.5" y="1698.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="29.5" y="1715.7988">activity.code = "retract-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="506" x="29.5" y="1733.4082">agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="448" x="29.5" y="1751.0176">entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="176" x="29.5" y="1768.627">entity.role.value = "removal"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="535" x="29.5" y="1786.2363">entity.what.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"</text></g><!--MD5=[32408643bd8caff34a368f9c9dab36a9]
class newPRO--><g id="elem_newPRO"><rect codeLine="110" fill="#FFFFFF" height="158.875" id="newPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1803.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="247" y="1823.1426">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1831.2188" y2="1831.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="29.5" y="1849.752">id = "4c284936-5454-4116-95fc-3c8eeeed2400"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="505" x="29.5" y="1867.3613">target.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="321" x="29.5" y="1884.9707">occuredDateTime = "2023-03-01T12:00:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="266" x="29.5" y="1902.5801">recorded = "2023-03-01T12:00:00+01:00"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29.5" y="1920.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="29.5" y="1937.7988">activity.code = "new-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="506" x="29.5" y="1955.4082">agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"</text></g><!--MD5=[6f084a8d2e872725faa44846c01687f1]
link errorB to errorMH--><!--MD5=[f4a6f90ab8cd4587f22264651557da14]
link errorMH to errorPT--><!--MD5=[184584c24779cd732f7679d177e4f423]
link errorPT to newCom--><!--MD5=[83e8e25a2fef049c2098fbfbc25b8452]
link newCom to errorCom--><!--MD5=[f14846e90d0eac7a00ca23a6608f5e10]
link errorCom to errorPracR--><!--MD5=[afc6e7a7089aaeb87f138c076cbb23c3]
link errorPracR to errorPrac--><!--MD5=[b4560af718d1581f1bafbc0c83e5175f]
link errorPrac to errorROrg--><!--MD5=[f98f56d20bb755e4d5aabf6a21e38333]
link errorROrg to errorSOrg--><!--MD5=[01f2d6b52eaf76c27b1edef674338d5d]
link errorSOrg to errorPRO--><!--MD5=[2a0d3ee2a945d1cb368c43375eee47a6]
link errorPRO to newPRO--><!--MD5=[e1ca6b43f0c9ec6b155a10715e1774b0]
@startuml CCcancelMessage

'layout
skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


'title
title Simplified example: Cancelled message

'Message 1: error message
package "CareCommunication message: Cancelled message" as error <<Frame>>{
    class "Bundle (MedComCareCommunicationMessage)" as errorB {
        id = "ed3e05b2-551d-11ed-bdc3-0242ac120002"
        type = "message"
        timestamp = "2023-03-01T12:11:00+01:00"
    }
    class "MessageHeader (MedComCareCommunicationMessageHeader)" as errorMH{
        id = "b0d424f8-33a9-4cc2-a528-a6cc1c58727b"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "care-communication-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus[0].reference = "Communication/94e65db8-2f0c-4a2c-a7c9-06a160d59a12"
        focus[1].reference = "Communication/1636f3f8-551e-11ed-bdc3-0242ac120002"
    }
    class "Patient (MedComCorePatient)" as errorPT{
        id = "733cef33-3626-422b-955d-d506aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Communication (MedComCareCommunication)" as newCom{
        id = "94e65db8-2f0c-4a2c-a7c9-06a160d59a12"
        status.system = "http://hl7.org/fhir/event-status" 
        status.code = "unknown"
        category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"
        category.code= "carecoordination"
        subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"
        payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."
        payload[0].extension:date = "2023-03-01T12:00:00+01:00"
        payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:24d01288-ad36-4af2-96a8-fd1432dadee1"
        payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)
    }
    class "Communication (MedComCareCommunication)" as errorCom{
        id = "1636f3f8-551e-11ed-bdc3-0242ac120002"
        status = "entered-in-error"
        category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"
        category.code= "carecoordination"
        subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"
        payload[0].contentString = "Cancellation due to incorrect CPR-number"
        payload[0].extension:date = "2023-03-01T12:11:00+01:00"
        payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:9c6aa7db-71ae-4263-a1df-8876ac44359e"
        payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)
    }
    class "PractitionerRole (MedComCorePractitionerRole)" as errorPracR{
        id = "eda90bde-54f9-11ed-bdc3-0242ac120002"
        practitioner.reference = "Practitioner/58c811a5-4082-44eb-9d66-ccbb112d4973"
        code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"
        code.value = "sygeplejerske"
    }
    class "Practitioner (MedComCorePractitioner)" as errorPrac{
        id = "58c811a5-4082-44eb-9d66-ccbb112d4973"
        name.family = "Michael"
        name.given = "Burns"
    }
    class "Receiver (MedComMessagingOrganization)" as errorROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender (MedComMessagingOrganization)" as errorSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance (MedComMessagingProvenance)" as errorPRO{
        id = "16fac3d8-551d-11ed-bdc3-0242ac120002"
        target = "MessageHeader/b0d424f8-33a9-4cc2-a528-a6cc1c58727b"
        occuredDateTime = "2023-03-01T12:11:00+01:00"
        recorded = "2023-03-01T12:11:00+01:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "retract-message"
        agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "removal"
        entity.what.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"
    }
    class "Provenance (MedComMessagingProvenance)" as newPRO{
        id = "4c284936-5454-4116-95fc-3c8eeeed2400"
        target.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"
        occuredDateTime = "2023-03-01T12:00:00+01:00"
        recorded = "2023-03-01T12:00:00+01:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "new-message"
        agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }

errorB -[hidden]- errorMH
errorMH -[hidden]-errorPT
errorPT-[hidden]-newCom
newCom -[hidden]-errorCom
errorCom -[hidden]-errorPracR
errorPracR-[hidden]-errorPrac
errorPrac-[hidden]-errorROrg
errorROrg-[hidden]- errorSOrg
errorSOrg-[hidden]-errorPRO
errorPRO-[hidden]-newPRO


@enduml

@startuml CCcancelMessage

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


title Simplified example: Cancelled message

package "CareCommunication message: Cancelled message" as error <<Frame>>{
    class "Bundle (MedComCareCommunicationMessage)" as errorB {
        id = "ed3e05b2-551d-11ed-bdc3-0242ac120002"
        type = "message"
        timestamp = "2023-03-01T12:11:00+01:00"
    }
    class "MessageHeader (MedComCareCommunicationMessageHeader)" as errorMH{
        id = "b0d424f8-33a9-4cc2-a528-a6cc1c58727b"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "care-communication-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        sender.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus[0].reference = "Communication/94e65db8-2f0c-4a2c-a7c9-06a160d59a12"
        focus[1].reference = "Communication/1636f3f8-551e-11ed-bdc3-0242ac120002"
    }
    class "Patient (MedComCorePatient)" as errorPT{
        id = "733cef33-3626-422b-955d-d506aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Communication (MedComCareCommunication)" as newCom{
        id = "94e65db8-2f0c-4a2c-a7c9-06a160d59a12"
        status.system = "http://hl7.org/fhir/event-status" 
        status.code = "unknown"
        category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"
        category.code= "carecoordination"
        subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"
        payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."
        payload[0].extension:date = "2023-03-01T12:00:00+01:00"
        payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:24d01288-ad36-4af2-96a8-fd1432dadee1"
        payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)
    }
    class "Communication (MedComCareCommunication)" as errorCom{
        id = "1636f3f8-551e-11ed-bdc3-0242ac120002"
        status = "entered-in-error"
        category.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-careCommunication-categoryCodes"
        category.code= "carecoordination"
        subject.reference = "Patient/733cef33-3626-422b-955d-d506aaa65fe1"
        payload[0].contentString = "Cancellation due to incorrect CPR-number"
        payload[0].extension:date = "2023-03-01T12:11:00+01:00"
        payload[0].extension:author.reference = "PractitionerRole/eda90bde-54f9-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[0].extension:identifier.valueIdentifier.value = "urn:uuid:9c6aa7db-71ae-4263-a1df-8876ac44359e"
        payload[0].extension:identifier.valueIdentifier.assigner = Reference(o7056980-a8b2-42aa-8a0e-c1fc85d1f40d)
    }
    class "PractitionerRole (MedComCorePractitionerRole)" as errorPracR{
        id = "eda90bde-54f9-11ed-bdc3-0242ac120002"
        practitioner.reference = "Practitioner/58c811a5-4082-44eb-9d66-ccbb112d4973"
        code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"
        code.value = "sygeplejerske"
    }
    class "Practitioner (MedComCorePractitioner)" as errorPrac{
        id = "58c811a5-4082-44eb-9d66-ccbb112d4973"
        name.family = "Michael"
        name.given = "Burns"
    }
    class "Receiver (MedComMessagingOrganization)" as errorROrg{
        id = "o4cdf292-abf3-4f5f-80ea-60a48013ff6d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Sender (MedComMessagingOrganization)" as errorSOrg{
        id = "o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Provenance (MedComMessagingProvenance)" as errorPRO{
        id = "16fac3d8-551d-11ed-bdc3-0242ac120002"
        target = "MessageHeader/b0d424f8-33a9-4cc2-a528-a6cc1c58727b"
        occuredDateTime = "2023-03-01T12:11:00+01:00"
        recorded = "2023-03-01T12:11:00+01:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "retract-message"
        agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
        entity.role.system = "http://hl7.org/fhir/ValueSet/provenance-entity-role"
        entity.role.value = "removal"
        entity.what.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"
    }
    class "Provenance (MedComMessagingProvenance)" as newPRO{
        id = "4c284936-5454-4116-95fc-3c8eeeed2400"
        target.reference = "MessageHeader/42cb9200-f421-4d08-8391-7d51a2503cb4"
        occuredDateTime = "2023-03-01T12:00:00+01:00"
        recorded = "2023-03-01T12:00:00+01:00"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "new-message"
        agent.who.reference = "Organization/o7056980-a8b2-42aa-8a0e-c1fc85d1f40d"
    }

errorB -[hidden]- errorMH
errorMH -[hidden]-errorPT
errorPT-[hidden]-newCom
newCom -[hidden]-errorCom
errorCom -[hidden]-errorPracR
errorPracR-[hidden]-errorPrac
errorPrac-[hidden]-errorROrg
errorROrg-[hidden]- errorSOrg
errorSOrg-[hidden]-errorPRO
errorPRO-[hidden]-newPRO


@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>