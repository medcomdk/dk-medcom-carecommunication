<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="2024px" preserveAspectRatio="none" style="width:783px;height:2024px;background:#FFFFFF;" version="1.1" viewBox="0 0 783 2024" width="783px" zoomAndPan="magnify"><defs/><g><rect fill="none" height="27.6094" id="_title" style="stroke:none;stroke-width:1.0;" width="604" x="82.5" y="5"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="594" x="87.5" y="24.5332">Simplified example: New message with Attachment, Sender, Recipient and Encounter</text><!--MD5=[6fd6a6cd9d912ff6c343fec98b853aad]
cluster new--><g id="cluster_new"><rect fill="none" height="1973" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:1.0;" width="770" x="7" y="45.6094"/><path d="M628,45.6094 L628,56.2188 L618,66.2188 L7,66.2188 " fill="none" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" font-weight="bold" lengthAdjust="spacing" textLength="611" x="10" y="61.1426">CareCommunication message: New message with Attachment, Recipient and Encounter</text></g><!--MD5=[e133a81fa2f9721f41527ae7fef71e58]
class newB--><g id="elem_newB"><rect codeLine="19" fill="#FFFFFF" height="88.4375" id="newB" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="81.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="299" x="242.5" y="101.1426">Bundle (MedComCareCommunicationMessage)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="109.2188" y2="109.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="29.5" y="127.752">id = "6f7e4c80-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="110" x="29.5" y="145.3613">type = "message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="229" x="29.5" y="162.9707">timestamp = "2022-10-01T12:00:10"</text></g><!--MD5=[838ce30b77c7e76c2d035cef51346a93]
class newMH--><g id="elem_newMH"><rect codeLine="24" fill="#FFFFFF" height="211.7031" id="newMH" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="179.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="404" x="190" y="199.1426">MessageHeader (MedComCareCommunicationMessageHeader)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="207.2188" y2="207.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="29.5" y="225.752">id = "dc04b8c2-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="624" x="29.5" y="243.3613">event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="29.5" y="260.9707">event.code = "care-communication-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="702" x="29.5" y="278.5801">destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="204" x="29.5" y="296.1895">destination.use.code = "primary"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="460" x="29.5" y="313.7988">destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="569" x="29.5" y="331.4082">destination.receiver.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="491" x="29.5" y="349.0176">sender.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="434" x="29.5" y="366.627">source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="496" x="29.5" y="384.2363">focus.reference = "Communication/487e2238-527b-11ec-bf63-0242ac130002"</text></g><!--MD5=[6831d7639b5d7dc31baa135cec483846]
class newPT--><g id="elem_newPT"><rect codeLine="36" fill="#FFFFFF" height="158.875" id="newPT" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="401.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="189" x="297.5" y="421.1426">Patient (MedComCorePatient)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="429.2188" y2="429.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="29.5" y="447.752">id = "833cef33-3726-433b-855d-e566aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="276" x="29.5" y="465.3613">identifier.system = "urn:oid:1.2.208.176.1.2"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="198" x="29.5" y="482.9707">identifier.value = "2509479989"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="128" x="29.5" y="500.5801">name.use = "official"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="29.5" y="518.1895">name.family = "Elmer"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="153" x="29.5" y="535.7988">name.given[0] = "Bruno"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="143" x="29.5" y="553.4082">name.given[1] = "Test"</text></g><!--MD5=[83ba68dc4a509baff37de99c2e8df941]
class newCom--><g id="elem_newCom"><rect codeLine="45" fill="#FFFFFF" height="387.7969" id="newCom" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="570.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="295" x="244.5" y="590.1426">Communication (MedComCareCommunication)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="598.2188" y2="598.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="29.5" y="616.752">id = "487e2238-527b-11ec-bf63-0242ac130002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="120" x="29.5" y="634.3613">status = "unknown"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="164" x="29.5" y="651.9707">class = "carecoordination"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="451" x="29.5" y="669.5801">subject.reference = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="483" x="29.5" y="687.1895">recipient.reference = "CareTeam/fb1d34fe-6672-11ed-9022-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="541" x="29.5" y="704.7988">extension.sender.reference = "CareTeam/f693506a-6903-11ed-9022-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="493" x="29.5" y="722.4082">encounter.reference = "Encounter/6220b42d-c4fd-4c77-bae7-78e7d890dc8d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="518" x="29.5" y="740.0176">payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="335" x="29.5" y="757.627">payload[0].extension:date = "2022-10-01T12:00:05Z"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="645" x="29.5" y="775.2363">payload[0].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="29.5" y="792.8457">payload[0].extension:authorContact.value = "38683868"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="580" x="29.5" y="810.4551">payload[1].contentAttachment.data = "JVBERi0xLjcNCiW1tbW1DQoxIDAgb2JqDQo8PC9U..."</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="353" x="29.5" y="828.0645">payload[1].contentAttachment.title = "Rehabilitationplan"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="389" x="29.5" y="845.6738">payload[1].contentAttachment.contentType = "application/pdf"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="416" x="29.5" y="863.2832">payload[1].contentAttachment.creation = "2022-10-01T08:00:00Z"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="335" x="29.5" y="880.8926">payload[1].extension:date = "2022-10-01T12:00:05Z"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="645" x="29.5" y="898.502">payload[1].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="352" x="29.5" y="916.1113">payload[1].extension:authorContact.value = "38683868"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="526" x="29.5" y="933.7207">payload[1].extension:identifier.value = "cd422e42-5bad-11ed-9b6a-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="693" x="29.5" y="951.3301">payload[1].extension:identifier.assigner.reference = "Oragnization/c5c393ee-5519-11ed-bdc3-0242ac120002"</text></g><!--MD5=[211ca5462246cad677f26104dbf452fe]
class newPracR--><g id="elem_newPracR"><rect codeLine="67" fill="#FFFFFF" height="106.0469" id="newPracR" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="968.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="303" x="240.5" y="988.1426">PractitionerRole (MedComCorePractitionerRole)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="996.2188" y2="996.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29.5" y="1014.752">id = "35bb99e4-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="511" x="29.5" y="1032.3613">practitioner.reference = "Practitioner/20eac382-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="725" x="29.5" y="1049.9707">code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="182" x="29.5" y="1067.5801">code.value = "sygeplejerske"</text></g><!--MD5=[735ce4fa04f8cae0ff52f3253a8619d5]
class newPrac--><g id="elem_newPrac"><rect codeLine="73" fill="#FFFFFF" height="88.4375" id="newPrac" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1084.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="245" x="269.5" y="1104.1426">Practitioner (MedComCorePractitioner)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1112.2188" y2="1112.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="310" x="29.5" y="1130.752">id = "20eac382-551a-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="149" x="29.5" y="1148.3613">name.family = "Michael"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="136" x="29.5" y="1165.9707">name.given = "Burns"</text></g><!--MD5=[1002bef665f8ba52d80522711e5e7b79]
class newEnc--><g id="elem_newEnc"><rect codeLine="78" fill="#FFFFFF" height="176.4844" id="newEnc" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1193.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="231" x="276.5" y="1213.1426">Encounter (MedComCoreEncounter)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1221.2188" y2="1221.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="306" x="29.5" y="1239.752">id = "6220b42d-c4fd-4c77-bae7-78e7d890dc8d"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="327" x="29.5" y="1257.3613">status.system = "http://hl7.org/fhir/encounter-status"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="148" x="29.5" y="1274.9707">status.code = "finished"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="425" x="29.5" y="1292.5801">class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="116" x="29.5" y="1310.1895">class.code = "IMP"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="386" x="29.5" y="1327.7988">subject = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="594" x="29.5" y="1345.4082">episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="539" x="29.5" y="1363.0176">episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"</text></g><!--MD5=[34f50406cce96a1e220aa4f553ca06dd]
class newROrg--><g id="elem_newROrg"><rect codeLine="88" fill="#FFFFFF" height="123.6563" id="newROrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1379.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="274" x="255" y="1399.1426">Receiver (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1407.2188" y2="1407.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="307" x="29.5" y="1425.752">id = "b75abdfa-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="1443.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="1460.9707">identifier[0].value = "5790001348120"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="1478.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="1496.1895">identifier[1].value = "953741000016009"</text></g><!--MD5=[f6d2b1bb77ab746f95a75c9b0475aa70]
class recipientCare--><g id="elem_recipientCare"><rect codeLine="95" fill="#FFFFFF" height="88.4375" id="recipientCare" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1513.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="227" x="278.5" y="1533.1426">Recipient (MedComCoreCareTeam)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1541.2188" y2="1541.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="304" x="29.5" y="1559.752">id = "fb1d34fe-6672-11ed-9022-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="228" x="29.5" y="1577.3613">name = "Plejecenter Herlev Team 1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="579" x="29.5" y="1594.9707">managinOrganization.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"</text></g><!--MD5=[fcd4a62913b7befdd7dda3aaeddd24ab]
class newSOrg--><g id="elem_newSOrg"><rect codeLine="100" fill="#FFFFFF" height="123.6563" id="newSOrg" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1611.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="264" x="260" y="1631.1426">Sender (MedComMessagingOrganization)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1639.2188" y2="1639.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="29.5" y="1657.752">id = "c5c393ee-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="289" x="29.5" y="1675.3613">identifier[0].system = "https://www.gs1.org/gln"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="238" x="29.5" y="1692.9707">identifier[0].value = "5790000209354"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="292" x="29.5" y="1710.5801">identifier[1].system = "urn:oid:1.2.208.176.1.1"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="254" x="29.5" y="1728.1895">identifier[1].value = "265161000016000"</text></g><!--MD5=[503ef698523d46ded3c76497e880fde6]
class senderCare--><g id="elem_senderCare"><rect codeLine="107" fill="#FFFFFF" height="88.4375" id="senderCare" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1745.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="285" y="1765.1426">Sender (MedComCoreCareTeam)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1773.2188" y2="1773.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="308" x="29.5" y="1791.752">id = "f693506a-6903-11ed-9022-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="29.5" y="1809.3613">name = "Hjerteafdelingens team C"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="581" x="29.5" y="1826.9707">managinOrganization.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"</text></g><!--MD5=[32408643bd8caff34a368f9c9dab36a9]
class newPRO--><g id="elem_newPRO"><rect codeLine="112" fill="#FFFFFF" height="158.875" id="newPRO" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.5;" width="737" x="23.5" y="1843.6094"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="290" x="247" y="1863.1426">Provenance (MedComMessagingProvenance)</text><line style="stroke:#000000;stroke-width:0.5;" x1="24.5" x2="759.5" y1="1871.2188" y2="1871.2188"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="311" x="29.5" y="1889.752">id = "ee619a58-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="507" x="29.5" y="1907.3613">target.reference = "MessageHeader/dc04b8c2-5519-11ed-bdc3-0242ac120002"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="285" x="29.5" y="1924.9707">occuredDateTime = "2022-10-01T12:00:11Z"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="29.5" y="1942.5801">recorded = "2022-10-01T12:00:11"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="640" x="29.5" y="1960.1895">activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="191" x="29.5" y="1977.7988">activity.code = "new-message"</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="512" x="29.5" y="1995.4082">agent.who.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"</text></g><!--MD5=[5536302834eaa555281faf96e36e6617]
link newB to newMH--><!--MD5=[bebc5e3708ea203f47c608ee43fdf6ea]
link newMH to newPT--><!--MD5=[9f6b920eb831cc1e597cda46980b0409]
link newPT to newCom--><!--MD5=[f3fda3ee834e6cb8f0a2b9a783d7f1e3]
link newCom to newPracR--><!--MD5=[abb428236a5785d6d9de167c87cac825]
link newPracR to newPrac--><!--MD5=[3e0f7293996739e29363fa6e0b868cf9]
link newPrac to newEnc--><!--MD5=[781b4ebf7516e34406e3378a50f756df]
link newEnc to newROrg--><!--MD5=[1b02c8b51731893815235205a97ad93e]
link newROrg to recipientCare--><!--MD5=[68e1746df1e825a78b844a607ed9370a]
link recipientCare to newSOrg--><!--MD5=[ecaf0086939f0526c9139fc10c8a66c6]
link newSOrg to senderCare--><!--MD5=[f809b4071653d2ec08c6702c43d1c374]
link senderCare to newPRO--><!--MD5=[4cf3fd4bd9fa368a3cb5452eabcec876]
@startuml CCNewMessageAtt

'layout
skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


'title
title Simplified example: New message with Attachment, Sender, Recipient and Encounter

'Message 1: New message with Attachment, Recipient and Encounter
package "CareCommunication message: New message with Attachment, Recipient and Encounter" as new <<Frame>>{
    class "Bundle (MedComCareCommunicationMessage)" as newB {
        id = "6f7e4c80-551a-11ed-bdc3-0242ac120002"
        type = "message"
        timestamp = "2022-10-01T12:00:10"
    }
    class "MessageHeader (MedComCareCommunicationMessageHeader)" as newMH{
        id = "dc04b8c2-5519-11ed-bdc3-0242ac120002"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "care-communication-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"
        sender.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus.reference = "Communication/487e2238-527b-11ec-bf63-0242ac130002"
    }
    class "Patient (MedComCorePatient)" as newPT{
        id = "833cef33-3726-433b-855d-e566aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Communication (MedComCareCommunication)" as newCom{
        id = "487e2238-527b-11ec-bf63-0242ac130002"
        status = "unknown"
        class = "carecoordination"
        subject.reference = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"
        recipient.reference = "CareTeam/fb1d34fe-6672-11ed-9022-0242ac120002"
        extension.sender.reference = "CareTeam/f693506a-6903-11ed-9022-0242ac120002"
        encounter.reference = "Encounter/6220b42d-c4fd-4c77-bae7-78e7d890dc8d"
        payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."
        payload[0].extension:date = "2022-10-01T12:00:05Z"
        payload[0].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[1].contentAttachment.data = "JVBERi0xLjcNCiW1tbW1DQoxIDAgb2JqDQo8PC9U..."
        payload[1].contentAttachment.title = "Rehabilitationplan"
        payload[1].contentAttachment.contentType = "application/pdf"
        payload[1].contentAttachment.creation = "2022-10-01T08:00:00Z"
        payload[1].extension:date = "2022-10-01T12:00:05Z"
        payload[1].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"
        payload[1].extension:authorContact.value = "38683868"
        payload[1].extension:identifier.value = "cd422e42-5bad-11ed-9b6a-0242ac120002"
        payload[1].extension:identifier.assigner.reference = "Oragnization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }
    class "PractitionerRole (MedComCorePractitionerRole)" as newPracR{
        id = "35bb99e4-551a-11ed-bdc3-0242ac120002"
        practitioner.reference = "Practitioner/20eac382-551a-11ed-bdc3-0242ac120002"
        code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"
        code.value = "sygeplejerske"
    }
    class "Practitioner (MedComCorePractitioner)" as newPrac{
        id = "20eac382-551a-11ed-bdc3-0242ac120002"
        name.family = "Michael"
        name.given = "Burns"
    }
    class "Encounter (MedComCoreEncounter)" as newEnc{
        id = "6220b42d-c4fd-4c77-bae7-78e7d890dc8d"
        status.system = "http://hl7.org/fhir/encounter-status"
        status.code = "finished"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
    }
    class "Receiver (MedComMessagingOrganization)" as newROrg{
        id = "b75abdfa-5519-11ed-bdc3-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Recipient (MedComCoreCareTeam)" as recipientCare{
        id = "fb1d34fe-6672-11ed-9022-0242ac120002"
        name = "Plejecenter Herlev Team 1"
        managinOrganization.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"
    }
    class "Sender (MedComMessagingOrganization)" as newSOrg{
        id = "c5c393ee-5519-11ed-bdc3-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Sender (MedComCoreCareTeam)" as senderCare{
        id = "f693506a-6903-11ed-9022-0242ac120002"
        name = "Hjerteafdelingens team C"
        managinOrganization.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }
    class "Provenance (MedComMessagingProvenance)" as newPRO{
        id = "ee619a58-5519-11ed-bdc3-0242ac120002"
        target.reference = "MessageHeader/dc04b8c2-5519-11ed-bdc3-0242ac120002"
        occuredDateTime = "2022-10-01T12:00:11Z"
        recorded = "2022-10-01T12:00:11"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "new-message"
        agent.who.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }

newB -[hidden]- newMH
newMH -[hidden]-newPT
newPT-[hidden]-newCom
newCom -[hidden]-newPracR
newPracR-[hidden]-newPrac
newPrac-[hidden]- -newEnc
newEnc-[hidden]-newROrg
newROrg-[hidden]-recipientCare
recipientCare-[hidden]-newSOrg
newSOrg-[hidden]-senderCare
senderCare-[hidden]-newPRO


@enduml

@startuml CCNewMessageAtt

skinparam class {
    BackgroundColor White
    BorderColor Black
    ArrowColor Black
  }
hide circle
hide empty members
skinparam SameClassWidth true
skinparam Ranksep 10


title Simplified example: New message with Attachment, Sender, Recipient and Encounter

package "CareCommunication message: New message with Attachment, Recipient and Encounter" as new <<Frame>>{
    class "Bundle (MedComCareCommunicationMessage)" as newB {
        id = "6f7e4c80-551a-11ed-bdc3-0242ac120002"
        type = "message"
        timestamp = "2022-10-01T12:00:10"
    }
    class "MessageHeader (MedComCareCommunicationMessageHeader)" as newMH{
        id = "dc04b8c2-5519-11ed-bdc3-0242ac120002"
        event.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-eventCodes"
        event.code = "care-communication-message"
        destination.use.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-destinationUse"
        destination.use.code = "primary"
        destination.endpoint = "https://sor2.sum.dsdn.dk/#id=953741000016009"
        destination.receiver.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"
        sender.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
        source.endpoint = "https://sor2.sum.dsdn.dk/#id=265161000016000"
        focus.reference = "Communication/487e2238-527b-11ec-bf63-0242ac130002"
    }
    class "Patient (MedComCorePatient)" as newPT{
        id = "833cef33-3726-433b-855d-e566aaa65fe1"
        identifier.system = "urn:oid:1.2.208.176.1.2"
        identifier.value = "2509479989"
        name.use = "official"
        name.family = "Elmer"
        name.given[0] = "Bruno"
        name.given[1] = "Test"
    }
    class "Communication (MedComCareCommunication)" as newCom{
        id = "487e2238-527b-11ec-bf63-0242ac130002"
        status = "unknown"
        class = "carecoordination"
        subject.reference = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"
        recipient.reference = "CareTeam/fb1d34fe-6672-11ed-9022-0242ac120002"
        extension.sender.reference = "CareTeam/f693506a-6903-11ed-9022-0242ac120002"
        encounter.reference = "Encounter/6220b42d-c4fd-4c77-bae7-78e7d890dc8d"
        payload[0].contentString = "Regarding the rehabilitation plan, please notice that..."
        payload[0].extension:date = "2022-10-01T12:00:05Z"
        payload[0].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"
        payload[0].extension:authorContact.value = "38683868"
        payload[1].contentAttachment.data = "JVBERi0xLjcNCiW1tbW1DQoxIDAgb2JqDQo8PC9U..."
        payload[1].contentAttachment.title = "Rehabilitationplan"
        payload[1].contentAttachment.contentType = "application/pdf"
        payload[1].contentAttachment.creation = "2022-10-01T08:00:00Z"
        payload[1].extension:date = "2022-10-01T12:00:05Z"
        payload[1].extension:author.reference = "PractitionerRole/35bb99e4-551a-11ed-bdc3-0242ac120002"
        payload[1].extension:authorContact.value = "38683868"
        payload[1].extension:identifier.value = "cd422e42-5bad-11ed-9b6a-0242ac120002"
        payload[1].extension:identifier.assigner.reference = "Oragnization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }
    class "PractitionerRole (MedComCorePractitionerRole)" as newPracR{
        id = "35bb99e4-551a-11ed-bdc3-0242ac120002"
        practitioner.reference = "Practitioner/20eac382-551a-11ed-bdc3-0242ac120002"
        code.system = "https://medcomfhir.dk/ig/terminology/CodeSystem/medcom-core-PractitionerRolesSKSadministrativ"
        code.value = "sygeplejerske"
    }
    class "Practitioner (MedComCorePractitioner)" as newPrac{
        id = "20eac382-551a-11ed-bdc3-0242ac120002"
        name.family = "Michael"
        name.given = "Burns"
    }
    class "Encounter (MedComCoreEncounter)" as newEnc{
        id = "6220b42d-c4fd-4c77-bae7-78e7d890dc8d"
        status.system = "http://hl7.org/fhir/encounter-status"
        status.code = "finished"
        class.system = "http://terminology.hl7.org/CodeSystem/v3-ActCode"
        class.code = "IMP"
        subject = "Patient/833cef33-3726-433b-855d-e566aaa65fe1"
        episodeOfCare.identifier.system = "https://www.esundhed.dk/Registre/Landspatientsregisteret"
        episodeOfCare.identifier.value = "urn:uuid:fc60e762-b13b-5773-865e-67f3907bdcc7"
    }
    class "Receiver (MedComMessagingOrganization)" as newROrg{
        id = "b75abdfa-5519-11ed-bdc3-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790001348120"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "953741000016009"
    }
    class "Recipient (MedComCoreCareTeam)" as recipientCare{
        id = "fb1d34fe-6672-11ed-9022-0242ac120002"
        name = "Plejecenter Herlev Team 1"
        managinOrganization.reference = "Organization/b75abdfa-5519-11ed-bdc3-0242ac120002"
    }
    class "Sender (MedComMessagingOrganization)" as newSOrg{
        id = "c5c393ee-5519-11ed-bdc3-0242ac120002"
        identifier[0].system = "https://www.gs1.org/gln"
        identifier[0].value = "5790000209354"
        identifier[1].system = "urn:oid:1.2.208.176.1.1"
        identifier[1].value = "265161000016000"
    }
    class "Sender (MedComCoreCareTeam)" as senderCare{
        id = "f693506a-6903-11ed-9022-0242ac120002"
        name = "Hjerteafdelingens team C"
        managinOrganization.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }
    class "Provenance (MedComMessagingProvenance)" as newPRO{
        id = "ee619a58-5519-11ed-bdc3-0242ac120002"
        target.reference = "MessageHeader/dc04b8c2-5519-11ed-bdc3-0242ac120002"
        occuredDateTime = "2022-10-01T12:00:11Z"
        recorded = "2022-10-01T12:00:11"
        activity.system = "http://medcomfhir.dk/ig/terminology/CodeSystem/medcom-messaging-activityCodes"
        activity.code = "new-message"
        agent.who.reference = "Organization/c5c393ee-5519-11ed-bdc3-0242ac120002"
    }

newB -[hidden]- newMH
newMH -[hidden]-newPT
newPT-[hidden]-newCom
newCom -[hidden]-newPracR
newPracR-[hidden]-newPrac
newPrac-[hidden]- -newEnc
newEnc-[hidden]-newROrg
newROrg-[hidden]-recipientCare
recipientCare-[hidden]-newSOrg
newSOrg-[hidden]-senderCare
senderCare-[hidden]-newPRO


@enduml

PlantUML version 1.2022.7(Mon Aug 22 19:01:30 CEST 2022)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Default Encoding: Cp1252
Language: da
Country: DK
--></g></svg>